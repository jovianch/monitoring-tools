<template name="update">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
	  	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	</head>

	<div class="jumbotron text-center">
        <h1>CASE Tool for Monitoring with Essence</h1>
        <h3>Jovian Christianto - 13514101</h3>
        <a href="/home"><button class="btn-default">Back to Home</button></a>
        <a href="/monitor"><button class="btn-default">Monitor</button></a>
    </div>

	<div class="container">
		<div class="project-box text-center">
			<h2>{{project.name}}</h2>
			<h4>Description : {{project.description}}</h4>
			<h4>Start Date : {{project.start_date}}</h4>
			<h4>End Date : {{project.end_date}}</h4>
		</div>

		<br>
		<h2 class="text-center">Update Your Project</h2>

		<div class="column">
			<div id="checklist">
			</div>

			<h3 class="text-center">Work Product</h3>
			<div class="workproduct-content">
				{{#each arrayify workproducts}}
					{{#if this.value.result}}
						<a class="workproduct states-done" id="{{this.name}}" name="{{this.name}}">{{this.name}}</a>
					{{else}}
						<a class="workproduct" id="{{this.name}}" name="{{this.name}}">{{this.name}}</a>
					{{/if}}
					<input id="alpha{{this.name}}" type="hidden" name="workproduct" value="{{this.value.alpha}}">
					<input id="subalpha{{this.name}}" type="hidden" name="workproduct" value="{{this.value.subalpha}}">
				{{/each}}
			</div>
		</div>

		<div class="column">
			<h3 class="text-center">Alpha</h3>
  			{{#each arrayify alphas}}
		  	<div class="dropdown">
		  		{{#if this.value.result}}
			  		<a class="dropbtn states-done" href="">{{this.name}}</a>
			  	{{else}}
			  		<a class="dropbtn" href="">{{this.name}}</a>
			  	{{/if}}
		  		<div class="dropdown-content">
			   		{{#each arrayify this.value.states}}
			   			{{#if this.value.result}}
			   				<a class="states states-done" id="{{this.name}}" name="{{this.name}}" href="">{{this.name}}</a>
			   			{{else}}
			   				<a class="states" id="{{this.name}}" name="{{this.name}}" href="">{{this.name}}</a>
			   			{{/if}}
				      	<input id="alpha{{this.name}}" type="hidden" name="alphas" value="{{this.value.alpha}}">
				    {{/each}}
			    </div>
			</div>
			{{/each}}

			<h3 class="text-center">SubAlpha</h3>
			{{#each arrayify subalphas}}
				<div class="dropdown">
					<label>{{this.value.alpha}}</label>
					{{#if this.value.result}}
						<a class="dropbtn subalpha_dropdown states-done" id="{{this.name}}" href="">{{this.name}}</a>
					{{else}}
						<a class="dropbtn subalpha_dropdown" id="{{this.name}}" href="">{{this.name}}</a>
					{{/if}}
					<input id="name{{this.name}}" type="hidden" name="name_subalpha" value="{{this.name}}">
					<div class="dropdown-content">
						{{#each arrayify this.value.states}}
					   		{{#if this.value.result}}
					   			<a class="subalpha_states states-done" id="{{this.name}}" name="{{this.name}}" href="">{{this.name}}</a>
					   		{{else}}
					   			<a class="subalpha_states" id="{{this.name}}" name="{{this.name}}" href="">{{this.name}}</a>
					   		{{/if}}
						      	<input id="subalpha{{this.value.subalpha}}{{this.name}}" type="hidden" name="subalphas" value="{{this.value.subalpha}}">
						{{/each}}
					</div>
				</div>
			{{/each}}
		</div>

		<div class="column">
		<h3 class="text-center">Activity Space</h3>
			{{#each arrayify activities}}
				<div class="dropdown">
					{{#if this.value.result}}
			   			<a class="dropbtn activity_spaces states-done" id="{{this.name}}" href="">{{this.name}}</a>
			   		{{else}}
			   			<a class="dropbtn activity_spaces" id="{{this.name}}" href="">{{this.name}}</a>
			   		{{/if}}
			   		<div class="dropdown-content">
			   			{{#each arrayify this.value.activities}}
			   				{{#if this.value.result}}
				      			<a class="activities states-done" id="{{this.name}}" name="{{this.name}}" href="">{{this.value.name}}</a>
				      		{{else}}
				      			<a class="activities" id="{{this.name}}" name="{{this.name}}" href="">{{this.value.name}}</a>
				      		{{/if}}
				      		<input id="activity_spaces{{this.name}}" type="hidden" name="activity_spaces" value="{{this.value.activity_space}}">
				    	{{/each}}
				    </div>
				</div>
			{{/each}}
		</div>
	</div>
</template>